@{
    ViewData["Title"] = "ScrollMagic";
}

<link rel="stylesheet" href="/css/style.css" />
<link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">

<nav class="navbar navbar-inverse">
    <div class="container">
        <ul class="nav navbar-nav ul1">
            <li><a asp-area="" asp-controller="Lab" asp-action="Index">ScrollMagic</a></li>
            <li><a asp-area="" asp-controller="Feedback" asp-action="Index">Обратная связь</a></li>
        </ul>
    </div>
</nav>

<div class="s1">
    <h1><b>ScrollMagic</b></h1>
    <h2><b>Вступление</b></h2>
</div>

<p>ScrollMagic - это библиотека, позволяющая элементам на странице реагировать на текущую позицию прокрутки.</p>
<p>В совокупности с использованием модуля GreenSock Animation Platform (GSAP) позволяет сделать много интересных вещей.</p>

<p>Возможности</p>
<li>вызов анимации на основе положения прокрутки либо её синхронизация с движением скроллбара;</li>
<li>"закрепление" элемента в пределах заданных на странице отметок;</li>
<li>переключение CSS классов элементов по позиции скролла;</li>
<li>добавление parallax-эффектов на сайт;</li>

<div class="s1">
    <h2>Демонстрация прикрепления элементов</h2>
</div>

<p>Приклепление (pin) позволяет зафиксировать положение элемента относительно экрана пользователя при срабатывании триггера.</p>

<pre><code>      var controller = new ScrollMagic.Controller();

        var scene1 = new ScrollMagic.Scene({
            triggerElement: "#pintr1", //назначение триггера для срабатывания
            duration: $(window).height(), // "продолжительность" закрепления
            triggerHook: 0, 
                    // 0 - сработает по достижению триггера верхней границы экрана
                    // 0.5 - достижение центра экрана
                    // 1 - в момент появления на экране
            reverse: true // сработает ли триггер при скролле вверх
        })
            .setPin("#pinstart1") // назначение элемента для закрепления
            .addTo(controller);</code></pre>


<div id="pintr1" class="ex_pin">
    <div id="pinstart1">
        <p><b>Прикрепление к верхней границе экрана</b></p>
    </div>
</div>

<div id="pintr2" class="ex_pin v2">
    <div id="pinstart2">
        <p><b>Прикрепление к центру экрана</b></p>
    </div>
</div>

<div id="pintr3" class="ex_pin v3">
    <div id="pinstart3">
        <p><b>Прикрепление к нижней границе экрана</b></p>
    </div>
</div>



<br /><br /><br />
<div id="animtr" class="s1">
    <h2>Демонстрация видоизменения объектов</h2>
</div>

<p>Простая анимация на основе смены CSS класса объекта (прямоугольничка) в момент прохождения триггера (в данном примере - заголовок выше).</p>

<div id="animbox1" class="box1 b1">
    Гудбай!
</div>

<br /><br /><br />
<pre><code> var scene3 = new ScrollMagic.Scene({ triggerElement: "#animtr", reverse: true, duration: 247, triggerHook: 0.35})
        .setClassToggle("#animbox1", "trans") //указание элемента и нового CSS класса
        .addTo(controller);</code></pre>

<div id="animtr2" class="s1">
    <br /><br />
    <h2>Демонстрация анимации с использованием пакета GSAP</h2>
    <br />
</div>

<p>Анимация включается при достижении позиции заголовка</p>
<br /><br />

<div id="animbox2" class="box1 b2">
    <b>УИИИИИИИИИ!</b>
</div>
<br /><br />

<pre><code >   var mytween = TweenMax.to("#animbox2", 2, {transform: 'scale(1.5)',backgroundColor: "white",repeat: -1});

    var scene5 = new ScrollMagic.Scene({
        triggerElement: "#animtr2", triggerHook:0.2, duration: 260
    })    
        //.addIndicators({ name: "kek5" })
        .setTween(mytween)
        .addTo(controller);</code></pre>
  <br /><br />  

<div class="s1">
    <h2>Анимация вращения элемента (используется GSAP)</h2>
</div>

<pre><code>     var tween = TweenMax.to("#pinstartl", 1, { rotation: 360, ease: Linear.easeNone });

        var scene7 = new ScrollMagic.Scene({
            triggerElement: "#pintrl", duration: $(pintrl).height()-50,
            triggerHook: 0.5 })
            .setTween(tween)
            .setPin("#pinstartl", { pushFollowers: false })
            .addIndicators()
            .addTo(controller);</code></pre>
<div id="pintrl" class="v4">
    <div id="pinstartl">
        <h2><b>Спасибо за внимание!</b></h2>
    </div>
</div>

 




   
@section Scripts {   
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/ScrollMagic.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
    <script src="~/plugins/animation.gsap.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/debug.addIndicators.min.js"></script>
    <script src="~/js/scrollm.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
}

